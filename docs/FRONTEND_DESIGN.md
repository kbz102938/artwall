# ArtWall Frontend Design Document

## Overview

ArtWall is a web-based art discovery platform that uses AI-powered recommendations to help users discover paintings that match their home and personal taste. The website creates personalized recommendations using:

- **Style preferences** - Selected home decor styles (1-3 choices from 8 options)
- **Learned preferences** - Built from user interactions (save, view, purchase, etc.)

**Recommendation approach:** MAX similarity
- Paintings are ranked by their highest similarity to ANY of:
  - User's selected style embeddings
  - User's learned embedding (from interactions)
- This ensures paintings matching ANY preferred style score high, rather than a blended average

**Platform:** Web (Desktop & Mobile responsive)

---

## Screen 0: Landing Page (Home)

**Route:** `/`

### Purpose
Inspire visitors with beautiful examples of art in home settings. Convert visitors to start the personalization flow.

### UI Layout (Desktop)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚  ArtWall                                          æ¢ç´¢    æ”¶è—    å¼€å§‹ä½¿ç”¨    â”‚
â”‚                                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚                          HERO SECTION (Full viewport height)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚    [Background: Beautiful living room with statement painting]         â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚                     ä¸ºæ‚¨çš„å®¶ï¼Œæ‰¾åˆ°é‚£å¹…ç”»                                 â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚              AI é©±åŠ¨çš„è‰ºæœ¯æ¨èï¼Œè®©æ¯ä¸€é¢å¢™éƒ½æˆä¸ºé£æ™¯                       â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚                    [  å¼€å§‹æ¢ç´¢  ]                                       â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚                         â†“ äº†è§£æ›´å¤š                                      â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚                          HOW IT WORKS (3 Steps)                              â”‚
â”‚                                                                              â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚     â”‚      ğŸ“·      â”‚      â”‚      ğŸ¨      â”‚      â”‚      âœ¨      â”‚            â”‚
â”‚     â”‚              â”‚      â”‚              â”‚      â”‚              â”‚            â”‚
â”‚     â”‚   ä¸Šä¼ æˆ¿é—´ç…§ç‰‡  â”‚      â”‚  é€‰æ‹©å–œæ¬¢çš„é£æ ¼  â”‚      â”‚  è·å¾—ä¸“å±æ¨è  â”‚            â”‚
â”‚     â”‚              â”‚      â”‚              â”‚      â”‚              â”‚            â”‚
â”‚     â”‚ è®©æˆ‘ä»¬äº†è§£æ‚¨çš„  â”‚      â”‚ ä»8ç§å®¶å±…é£æ ¼ä¸­   â”‚      â”‚ AIä¸ºæ‚¨åŒ¹é…æœ€   â”‚            â”‚
â”‚     â”‚ ç©ºé—´æ°›å›´       â”‚      â”‚ é€‰æ‹©1-3ç§åå¥½    â”‚      â”‚ é€‚åˆçš„è‰ºæœ¯å“   â”‚            â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚                          GALLERY SHOWCASE                                    â”‚
â”‚                         çœ‹çœ‹è‰ºæœ¯å¦‚ä½•æ”¹å˜ç©ºé—´                                   â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚                   â”‚  â”‚                   â”‚  â”‚                   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  [Living room     â”‚  â”‚  [Bedroom with    â”‚  â”‚  [Study with      â”‚   â”‚ â”‚
â”‚  â”‚  â”‚   with modern     â”‚  â”‚   Japanese art]   â”‚  â”‚   classic art]    â”‚   â”‚ â”‚
â”‚  â”‚  â”‚   abstract art]   â”‚  â”‚                   â”‚  â”‚                   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚                   â”‚  â”‚                   â”‚  â”‚                   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚   ç°ä»£ç®€çº¦ Ã— æŠ½è±¡   â”‚  â”‚   æ—¥å¼ä¾˜å¯‚ Ã— æ°´å¢¨  â”‚  â”‚   ç¾å¼å¤å…¸ Ã— æ²¹ç”»  â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚                          FEATURES                                            â”‚
â”‚                                                                              â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚    â”‚                        â”‚        â”‚                        â”‚             â”‚
â”‚    â”‚  ğŸ–¼ï¸ ä¸‡åƒåç”»             â”‚        â”‚  ğŸ¤– æ™ºèƒ½æ¨è            â”‚             â”‚
â”‚    â”‚                        â”‚        â”‚                        â”‚             â”‚
â”‚    â”‚  æ¥è‡ªå…¨çƒé¡¶çº§åšç‰©é¦†çš„     â”‚        â”‚  åŸºäºæ‚¨çš„ç©ºé—´å’Œå–œå¥½      â”‚             â”‚
â”‚    â”‚  å…¬å…±é¢†åŸŸè‰ºæœ¯å“          â”‚        â”‚  AIç²¾å‡†åŒ¹é…             â”‚             â”‚
â”‚    â”‚                        â”‚        â”‚                        â”‚             â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                              â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚    â”‚                        â”‚        â”‚                        â”‚             â”‚
â”‚    â”‚  ğŸ¯ ä¸ªæ€§åŒ–ä½“éªŒ          â”‚        â”‚  ğŸ’« æŒç»­ä¼˜åŒ–            â”‚             â”‚
â”‚    â”‚                        â”‚        â”‚                        â”‚             â”‚
â”‚    â”‚  è®°ä½æ‚¨çš„æ¯ä¸€æ¬¡äº’åŠ¨      â”‚        â”‚  è¶Šç”¨è¶Šæ‡‚æ‚¨çš„           â”‚             â”‚
â”‚    â”‚  æ‰“é€ ä¸“å±ç”»å»Š           â”‚        â”‚  è‰ºæœ¯å“å‘³              â”‚             â”‚
â”‚    â”‚                        â”‚        â”‚                        â”‚             â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚                          CTA SECTION                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚    [Gradient background with subtle art pattern]                       â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚                      å‡†å¤‡å¥½å‘ç°æ‚¨çš„è‰ºæœ¯å“äº†å—ï¼Ÿ                           â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚                       [  ç«‹å³å¼€å§‹ï¼Œå…è´¹ä½¿ç”¨  ]                           â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  FOOTER                                                                      â”‚
â”‚  ArtWall Â© 2024        å…³äºæˆ‘ä»¬    éšç§æ”¿ç­–    è”ç³»æˆ‘ä»¬                        â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Design Notes

**Color Palette:**
```css
--bg-primary: #FAFAFA;       /* Light background */
--bg-dark: #1A1A1A;          /* Dark sections */
--accent: #E8DCC4;           /* Warm cream accent */
--text-primary: #1A1A1A;     /* Dark text */
--text-secondary: #666666;   /* Muted text */
--cta: #2D2D2D;              /* Button color */
```

**Typography:**
- Hero title: 48-64px, serif font (e.g., Playfair Display, Noto Serif SC)
- Subtitles: 20-24px, sans-serif (e.g., Inter, Noto Sans SC)
- Body: 16px, sans-serif

**Animations:**
- Hero image: Subtle parallax on scroll
- Gallery cards: Fade in on scroll (Intersection Observer)
- CTA button: Hover scale + shadow
- Smooth scroll between sections

**Hero Image Suggestions:**
- High-end living room with a statement art piece
- Natural lighting, minimal furniture
- Art as focal point
- Consider using multiple images with crossfade

### Mobile Layout
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ArtWall            â˜°           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  [Hero Image - Full width]      â”‚
â”‚                                 â”‚
â”‚   ä¸ºæ‚¨çš„å®¶ï¼Œæ‰¾åˆ°é‚£å¹…ç”»            â”‚
â”‚                                 â”‚
â”‚   [  å¼€å§‹æ¢ç´¢  ]                â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  ğŸ“· ä¸Šä¼ æˆ¿é—´ç…§ç‰‡                 â”‚
â”‚  è®©æˆ‘ä»¬äº†è§£æ‚¨çš„ç©ºé—´æ°›å›´           â”‚
â”‚                                 â”‚
â”‚  ğŸ¨ é€‰æ‹©å–œæ¬¢çš„é£æ ¼               â”‚
â”‚  ä»8ç§å®¶å±…é£æ ¼ä¸­é€‰æ‹©             â”‚
â”‚                                 â”‚
â”‚  âœ¨ è·å¾—ä¸“å±æ¨è                 â”‚
â”‚  AIä¸ºæ‚¨åŒ¹é…æœ€é€‚åˆçš„è‰ºæœ¯å“         â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  [Gallery - Horizontal scroll]  â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  [  ç«‹å³å¼€å§‹  ]                 â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Behavior
1. "å¼€å§‹æ¢ç´¢" / "ç«‹å³å¼€å§‹" â†’ Check if returning user
   - New user â†’ `/onboarding`
   - Returning user â†’ `/feed`
2. "æ¢ç´¢" nav link â†’ `/feed` (skip onboarding for browsing)
3. "æ”¶è—" nav link â†’ `/saved`
4. Scroll animations trigger on viewport entry

### Required Assets
- Hero background image (living room with art)
- 3 gallery showcase images (different styles)
- Feature icons (or use emoji as placeholder)

---

## Core User Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ONBOARDING FLOW                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Step 1: Upload Room Photo                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚                         â”‚                               â”‚
â”‚  â”‚   [Camera/Gallery]      â”‚  "Take a photo of your        â”‚
â”‚  â”‚                         â”‚   living room or bedroom"     â”‚
â”‚  â”‚   ğŸ“·                    â”‚                               â”‚
â”‚  â”‚                         â”‚                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚              â†“                                              â”‚
â”‚  Step 2: Select Home Styles (pick 1-3)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚ç°ä»£  â”‚ â”‚åŒ—æ¬§  â”‚ â”‚æ—¥å¼  â”‚ â”‚ä¸­å¼  â”‚                          â”‚
â”‚  â”‚ç®€çº¦  â”‚ â”‚     â”‚ â”‚ä¾˜å¯‚  â”‚ â”‚     â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚æ³•å¼  â”‚ â”‚ç¾å¼  â”‚ â”‚å·¥ä¸š  â”‚ â”‚å¥¶æ²¹  â”‚                          â”‚
â”‚  â”‚è½»å¥¢  â”‚ â”‚     â”‚ â”‚é£   â”‚ â”‚æ··æ­  â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚              â†“                                              â”‚
â”‚  Step 3: Show Personalized Feed                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚                         â”‚                               â”‚
â”‚  â”‚   Painting Feed         â”‚  Based on room + styles       â”‚
â”‚  â”‚   (Swipe vertically)    â”‚                               â”‚
â”‚  â”‚                         â”‚                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Tech Stack Recommendation

- **Framework**: Next.js 14+ (App Router) with React
- **Styling**: Tailwind CSS
- **State Management**: Zustand or React Context
- **HTTP Client**: fetch or SWR/React Query
- **Image Handling**: Next.js Image component with optimization
- **File Upload**: HTML5 File API + Cloud storage (Cloudinary, S3, or GCS)
- **Animations**: Framer Motion for smooth transitions
- **Gestures**: For swipe feed - use CSS scroll-snap or a library like Embla Carousel

---

## API Configuration

### Base URLs
```
Discovery API: https://artwall-api-919123660014.us-central1.run.app
CLIP Service:  https://clip-service-919123660014.us-central1.run.app
```

### Required Headers
All requests must include:
```
x-visitor-id: <unique-visitor-id>
Content-Type: application/json
```

Generate visitor ID on first launch: `v_${uuid}`, persist in local storage.

---

## Screen 1: Room Photo Upload

**Route:** `/onboarding`

### Purpose
Capture the visual context of user's living space to match paintings that will look good in their environment.

### UI Layout (Desktop)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ArtWall                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚                    è®©æˆ‘ä»¬ä¸ºæ‚¨çš„å®¶æ‰¾åˆ°æœ€åˆé€‚çš„ç”»ä½œ                    â”‚
â”‚                                                                  â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚         â”‚                                             â”‚          â”‚
â”‚         â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚          â”‚
â”‚         â”‚     â”‚                                 â”‚     â”‚          â”‚
â”‚         â”‚     â”‚       ğŸ“· æ‹–æ”¾æˆ–ç‚¹å‡»ä¸Šä¼           â”‚     â”‚          â”‚
â”‚         â”‚     â”‚       æ‚¨çš„å®¢å…æˆ–å§å®¤ç…§ç‰‡          â”‚     â”‚          â”‚
â”‚         â”‚     â”‚                                 â”‚     â”‚          â”‚
â”‚         â”‚     â”‚    æ”¯æŒ JPG, PNG (æœ€å¤§ 10MB)     â”‚     â”‚          â”‚
â”‚         â”‚     â”‚                                 â”‚     â”‚          â”‚
â”‚         â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚          â”‚
â”‚         â”‚                                             â”‚          â”‚
â”‚         â”‚              [  é€‰æ‹©æ–‡ä»¶  ]                  â”‚          â”‚
â”‚         â”‚                                             â”‚          â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                  â”‚
â”‚                          [è·³è¿‡æ­¤æ­¥éª¤]                             â”‚
â”‚                                                                  â”‚
â”‚                         æ­¥éª¤ 1 / 2                               â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Behavior
1. User drags & drops image onto upload zone, OR
2. User clicks "é€‰æ‹©æ–‡ä»¶" â†’ Opens file picker dialog
3. After photo selected â†’ Show preview â†’ Upload to cloud storage
4. Call `/api/onboarding/photo` with image URL
5. Navigate to `/onboarding/styles`

### API Call
```
POST /api/onboarding/photo
Headers: x-visitor-id: v_xxx
Body: { "imageUrl": "https://storage.example.com/room.jpg" }

Response: { "success": true }
```

### Skip Option
- User can skip this step
- Will only use style preferences for initial recommendations

---

## Screen 2: Style Selection

**Route:** `/onboarding/styles`

### Purpose
Let user select 1-3 home decor styles they like. These style images will be used to build their preference embedding.

### Available Styles
| ID | Chinese | English |
|----|---------|---------|
| 1 | ç°ä»£ç®€çº¦ | Modern Minimalist |
| 2 | åŒ—æ¬§ | Nordic |
| 3 | æ—¥å¼/ä¾˜å¯‚ | Japanese Wabi-Sabi |
| 4 | æ–°ä¸­å¼ | New Chinese |
| 5 | æ³•å¼/è½»å¥¢ | French Luxury |
| 6 | ç¾å¼ | American |
| 7 | å·¥ä¸šé£ | Industrial |
| 8 | å¥¶æ²¹é£/æ··æ­ | Cream/Eclectic |

### UI Layout (Desktop)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ArtWall                                              â† è¿”å›      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚                      é€‰æ‹©æ‚¨å–œæ¬¢çš„å®¶å±…é£æ ¼                          â”‚
â”‚                       (å¯å¤šé€‰ 1-3 ä¸ª)                             â”‚
â”‚                                                                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚    â”‚  [img]   â”‚ â”‚  [img]   â”‚ â”‚  [img]   â”‚ â”‚  [img]   â”‚          â”‚
â”‚    â”‚          â”‚ â”‚          â”‚ â”‚          â”‚ â”‚          â”‚          â”‚
â”‚    â”‚ ç°ä»£ç®€çº¦ âœ“ â”‚ â”‚   åŒ—æ¬§   â”‚ â”‚ æ—¥å¼ä¾˜å¯‚  â”‚ â”‚  æ–°ä¸­å¼ âœ“ â”‚          â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚    â”‚  [img]   â”‚ â”‚  [img]   â”‚ â”‚  [img]   â”‚ â”‚  [img]   â”‚          â”‚
â”‚    â”‚          â”‚ â”‚          â”‚ â”‚          â”‚ â”‚          â”‚          â”‚
â”‚    â”‚ æ³•å¼è½»å¥¢  â”‚ â”‚   ç¾å¼   â”‚ â”‚  å·¥ä¸šé£   â”‚ â”‚ å¥¶æ²¹æ··æ­  â”‚          â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                  â”‚
â”‚                    [    å¼€å§‹æ¢ç´¢ (å·²é€‰ 2/3)    ]                  â”‚
â”‚                                                                  â”‚
â”‚                          æ­¥éª¤ 2 / 2                              â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Mobile:** 2 columns grid instead of 4

### Behavior
1. Display grid of style cards with representative images
2. Tap to select/deselect (show checkmark)
3. Allow 1-3 selections
4. "å¼€å§‹æ¢ç´¢" button shows count, disabled if 0 selected
5. On submit â†’ Call `/api/onboarding/style`
6. Navigate to Feed

### API Calls

**Get available styles:**
```
GET /api/onboarding/style

Response:
{
  "styles": [
    {
      "id": 1,
      "name": "ç°ä»£ç®€çº¦",
      "nameEn": "Modern Minimalist",
      "imageUrl": "/images/styles/modern.jpg"
    },
    {
      "id": 2,
      "name": "åŒ—æ¬§",
      "nameEn": "Nordic",
      "imageUrl": "/images/styles/nordic.jpg"
    },
    ...
  ]
}
```

**Submit selections:**
```
POST /api/onboarding/style
Headers: x-visitor-id: v_xxx
Body: {
  "styleIds": [1, 4]
}

Response: {
  "success": true,
  "styles": [
    { "id": 1, "name": "ç°ä»£ç®€çº¦", "nameEn": "Modern Minimalist" },
    { "id": 4, "name": "æ–°ä¸­å¼", "nameEn": "New Chinese" }
  ]
}
```

### Style Images
You need to provide representative images for each style. These should be:
- High-quality interior design photos
- Clearly representing the style
- 1:1 or 4:3 aspect ratio
- Hosted on CDN for fast loading

---

## Screen 3: Painting Feed (Home)

**Route:** `/feed`

### Purpose
Show personalized painting recommendations in a vertical scroll feed with full-screen painting cards.

### UI Layout (Desktop)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ArtWall              [æœç´¢]           æ”¶è—    æˆ‘çš„               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚              â”‚                                    â”‚              â”‚
â”‚              â”‚                                    â”‚              â”‚
â”‚              â”‚                                    â”‚              â”‚
â”‚              â”‚         [Painting Image]           â”‚              â”‚
â”‚              â”‚         (max-height: 80vh)         â”‚              â”‚
â”‚              â”‚                                    â”‚              â”‚
â”‚              â”‚                                    â”‚              â”‚
â”‚              â”‚                                    â”‚              â”‚
â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
â”‚              â”‚ ã€Šå±±å±…ç§‹æšã€‹                         â”‚              â”‚
â”‚              â”‚ ç‹ç»´ â€¢ å”ä»£                          â”‚              â”‚
â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
â”‚              â”‚    â™¡ æ”¶è—    â†— åˆ†äº«    â„¹ï¸ è¯¦æƒ…      â”‚              â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                  â”‚
â”‚                          â†“ æ»šåŠ¨æŸ¥çœ‹æ›´å¤š                           â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Mobile:** Full-width cards, swipe or scroll navigation

### Behavior
- Scroll down â†’ Next painting (CSS scroll-snap for smooth stopping)
- Scroll up â†’ Previous painting
- Click image â†’ Open detail page
- Click â™¡ â†’ Save painting (track `save` event)
- Click â†— â†’ Share via Web Share API (track `share` event)
- Keyboard: Arrow Up/Down to navigate

### Activity Tracking
Track these events to improve recommendations. Events update the user's learned embedding.

#### Explicit Signals (strongest)

| Event | Trigger | Weight |
|-------|---------|--------|
| `purchase` | Completed purchase | +1.0 |
| `save` | Heart button tapped | +0.7 |
| `hide` | "Not interested" tapped | -0.5 |

#### Implicit Signals

| Event | Trigger | Weight |
|-------|---------|--------|
| `view` (>5s) | Painting visible >5s | +0.3 |
| `view` (3-5s) | Painting visible 3-5s | +0.2 |
| `view` (1-3s) | Painting visible 1-3s | +0.1 |
| `click` | Tap to view details | +0.3 |
| `zoom` | Double-tap to zoom | +0.2 |
| `share` | Share button tapped | +0.4 |
| `scroll_back` | Scrolled back to view | +0.3 |

### API Calls

**Fetch feed:**
```
GET /api/feed?offset=0&limit=10
Headers: x-visitor-id: v_xxx

Response:
{
  "paintings": [
    {
      "id": "met_42260",
      "title": "å±±å±…ç§‹æš",
      "artist": "ç‹ç»´",
      "year": 761,
      "imageUrl": "https://...",
      "aspectRatio": "portrait",
      "similarity": 0.95
    }
  ],
  "nextOffset": 10,
  "hasMore": true
}
```

**Track activity:**
```
POST /api/activity
Headers: x-visitor-id: v_xxx
Body:
{
  "events": [
    {
      "event": "view",
      "paintingId": "met_42260",
      "timestamp": 1704067200000,
      "metadata": { "duration": 5000 }
    }
  ]
}
```

---

## Screen 4: Painting Detail

**Route:** `/painting/[id]`

### UI Layout (Desktop)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ArtWall    â† è¿”å›                              â™¡ æ”¶è—   â†— åˆ†äº«   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚                             â”‚  â”‚                         â”‚  â”‚
â”‚    â”‚                             â”‚  â”‚  ã€Šå±±å±…ç§‹æšã€‹             â”‚  â”‚
â”‚    â”‚                             â”‚  â”‚                         â”‚  â”‚
â”‚    â”‚     [Painting Image]        â”‚  â”‚  è‰ºæœ¯å®¶: ç‹ç»´             â”‚  â”‚
â”‚    â”‚     (Click to zoom)         â”‚  â”‚  å¹´ä»£: å”ä»£ (761å¹´)       â”‚  â”‚
â”‚    â”‚                             â”‚  â”‚  é£æ ¼: å±±æ°´ç”»             â”‚  â”‚
â”‚    â”‚                             â”‚  â”‚                         â”‚  â”‚
â”‚    â”‚                             â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚
â”‚    â”‚                             â”‚  â”‚                         â”‚  â”‚
â”‚    â”‚                             â”‚  â”‚  æ¥æº: å¤§éƒ½ä¼šè‰ºæœ¯åšç‰©é¦†    â”‚  â”‚
â”‚    â”‚                             â”‚  â”‚  ç‰ˆæƒ: CC0 å…¬å…±é¢†åŸŸ       â”‚  â”‚
â”‚    â”‚                             â”‚  â”‚                         â”‚  â”‚
â”‚    â”‚                             â”‚  â”‚  [æŸ¥çœ‹åŸä½œ â†—]            â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Mobile:** Stacked layout (image on top, info below)

### API Call
```
GET /api/paintings/:id
Headers: x-visitor-id: v_xxx

Response:
{
  "painting": {
    "id": "met_42260",
    "title": "å±±å±…ç§‹æš",
    "artist": "ç‹ç»´",
    "year": 761,
    "style": "å±±æ°´ç”»",
    "imageUrl": "https://...",
    "imageHdUrl": "https://.../original.jpg",
    "source": "met",
    "sourceUrl": "https://www.metmuseum.org/...",
    "license": "CC0 1.0",
    "isSaved": false
  }
}
```

---

## Screen 5: Saved/Favorites

**Route:** `/saved`

### UI Layout (Desktop)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ArtWall              [æœç´¢]           æ”¶è—    æˆ‘çš„               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚    æˆ‘çš„æ”¶è— (12å¹…)                                                â”‚
â”‚                                                                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚  [img]  â”‚ â”‚  [img]  â”‚ â”‚  [img]  â”‚ â”‚  [img]  â”‚ â”‚  [img]  â”‚  â”‚
â”‚    â”‚         â”‚ â”‚         â”‚ â”‚         â”‚ â”‚         â”‚ â”‚         â”‚  â”‚
â”‚    â”‚  æ ‡é¢˜    â”‚ â”‚  æ ‡é¢˜    â”‚ â”‚  æ ‡é¢˜    â”‚ â”‚  æ ‡é¢˜    â”‚ â”‚  æ ‡é¢˜    â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚  [img]  â”‚ â”‚  [img]  â”‚ â”‚  [img]  â”‚ â”‚  [img]  â”‚ â”‚  [img]  â”‚  â”‚
â”‚    â”‚         â”‚ â”‚         â”‚ â”‚         â”‚ â”‚         â”‚ â”‚         â”‚  â”‚
â”‚    â”‚  æ ‡é¢˜    â”‚ â”‚  æ ‡é¢˜    â”‚ â”‚  æ ‡é¢˜    â”‚ â”‚  æ ‡é¢˜    â”‚ â”‚  æ ‡é¢˜    â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Mobile:** 2 columns grid

### API Calls

**Get saved:**
```
GET /api/saved
Headers: x-visitor-id: v_xxx

Response:
{
  "paintings": [
    { "id": "...", "title": "...", "imageUrl": "...", "savedAt": "..." }
  ]
}
```

**Save/Unsave:**
```
POST /api/saved
Headers: x-visitor-id: v_xxx
Body: { "paintingId": "met_42260", "action": "save" }

Response: { "success": true, "isSaved": true }
```

---

## Route Structure (Next.js App Router)

```
app/
â”œâ”€â”€ page.tsx                    # Landing / redirect to onboarding or feed
â”œâ”€â”€ onboarding/
â”‚   â”œâ”€â”€ page.tsx               # Room photo upload
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ page.tsx           # Style selection
â”œâ”€â”€ feed/
â”‚   â””â”€â”€ page.tsx               # Main painting feed
â”œâ”€â”€ painting/
â”‚   â””â”€â”€ [id]/
â”‚       â””â”€â”€ page.tsx           # Painting detail page
â”œâ”€â”€ saved/
â”‚   â””â”€â”€ page.tsx               # Saved paintings grid
â””â”€â”€ profile/
    â””â”€â”€ page.tsx               # User profile / settings
```

### URL Routes
| Path | Description |
|------|-------------|
| `/` | Landing page, redirects based on onboarding status |
| `/onboarding` | Room photo upload |
| `/onboarding/styles` | Style selection |
| `/feed` | Main painting feed |
| `/painting/[id]` | Painting detail |
| `/saved` | Saved paintings |
| `/profile` | User settings |

### First Visit Detection
```typescript
// Use localStorage for web
const hasCompletedOnboarding = localStorage.getItem('onboarding_complete');
if (!hasCompletedOnboarding) {
  router.push('/onboarding');
} else {
  router.push('/feed');
}
```

---

## Data Models (TypeScript)

```typescript
interface Painting {
  id: string;
  title: string;
  titleEn?: string;
  artist: string;
  artistEn?: string;
  year?: number;
  style?: string;
  imageUrl: string;
  imageHdUrl?: string;
  source?: string;
  sourceUrl?: string;
  license?: string;
  tags?: string[];
  aspectRatio?: 'portrait' | 'landscape' | 'square';
  similarity?: number;
  isSaved?: boolean;
}

interface HomeStyle {
  id: number;
  name: string;
  nameEn: string;
  imageUrl: string;
}

interface OnboardingState {
  roomPhotoUrl?: string;
  selectedStyleIds: number[];
  isComplete: boolean;
}

interface ActivityEvent {
  event: 'view' | 'click' | 'zoom' | 'share' | 'save' | 'hide' | 'scroll_back' | 'purchase';
  paintingId: string;
  timestamp: number;
  metadata?: {
    dwellTimeMs?: number;    // For view events
    source?: string;         // 'feed', 'detail', 'saved'
    position?: number;       // Position in feed
  };
}
```

---

## Recommendation Algorithm Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               MAX SIMILARITY APPROACH                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   PHASE 1: STYLE SELECTION (Onboarding)                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  User selects 1-3 styles                            â”‚   â”‚
â”‚   â”‚  â†’ Stored in user_style_selections table            â”‚   â”‚
â”‚   â”‚  â†’ Style embeddings pre-computed in home_styles     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚   PHASE 2: FEED QUERY                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  For each painting, compute:                        â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚  similarity = MAX(                                  â”‚   â”‚
â”‚   â”‚    sim(painting, style_1),  â† selected styles       â”‚   â”‚
â”‚   â”‚    sim(painting, style_2),                          â”‚   â”‚
â”‚   â”‚    sim(painting, learned_embedding)  â† from interactions â”‚
â”‚   â”‚  )                                                  â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚  ORDER BY similarity DESC                           â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚   PHASE 3: CONTINUOUS LEARNING                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  User interactions (save, view, purchase)           â”‚   â”‚
â”‚   â”‚  â†’ Update learned_embedding in user_preferences     â”‚   â”‚
â”‚   â”‚  â†’ Feed gets more personalized over time            â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Image Assets Required

### Style Images (8 images)
Host these on CDN and update `imageUrl` in styles:
- `/images/styles/modern.jpg` - Modern minimalist interior
- `/images/styles/nordic.jpg` - Nordic/Scandinavian interior
- `/images/styles/japanese.jpg` - Japanese wabi-sabi interior
- `/images/styles/chinese.jpg` - New Chinese style interior
- `/images/styles/french.jpg` - French luxury interior
- `/images/styles/american.jpg` - American style interior
- `/images/styles/industrial.jpg` - Industrial loft interior
- `/images/styles/cream.jpg` - Cream/eclectic interior

### Onboarding Assets
- Camera icon/illustration
- Checkmark icon for selection
- Welcome/intro illustrations

---

## Error States

### No Network
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚         ğŸ“¡                  â”‚
â”‚                             â”‚
â”‚     æ— æ³•è¿æ¥ç½‘ç»œ              â”‚
â”‚     è¯·æ£€æŸ¥æ‚¨çš„ç½‘ç»œè®¾ç½®         â”‚
â”‚                             â”‚
â”‚      [ é‡è¯• ]               â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Empty Saved
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚         â™¡                   â”‚
â”‚                             â”‚
â”‚     è¿˜æ²¡æœ‰æ”¶è—çš„ç”»ä½œ          â”‚
â”‚     å»é¦–é¡µæ¢ç´¢å§              â”‚
â”‚                             â”‚
â”‚      [ å»æ¢ç´¢ ]              â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Performance Considerations

1. **Image Preloading**: Preload next 3-5 paintings in feed
2. **Skeleton Loading**: Show placeholders while images load
3. **Batch Activity Events**: Send every 2-3 seconds, not per event
4. **Cache Styles**: Cache style images after first load
5. **Offline Queue**: Queue activity events when offline

---

## Testing Checklist

### Onboarding
- [ ] File upload dialog works
- [ ] Drag & drop photo works
- [ ] Skip photo option works
- [ ] Style selection allows 1-3 choices
- [ ] Style images load correctly
- [ ] Onboarding state persists in localStorage

### Feed
- [ ] Feed loads after onboarding
- [ ] Scroll/swipe navigation smooth
- [ ] Images load with Next.js optimization
- [ ] Activity tracking works
- [ ] Save/unsave updates immediately
- [ ] Keyboard navigation works (arrow keys)

### Responsive Design
- [ ] Desktop layout (1200px+)
- [ ] Tablet layout (768px - 1199px)
- [ ] Mobile layout (< 768px)
- [ ] Touch gestures work on mobile browsers

### General
- [ ] Visitor ID persists across sessions (localStorage)
- [ ] Browser back/forward navigation works
- [ ] Direct URL access works (deep links)
- [ ] Share functionality works (Web Share API)
- [ ] SEO meta tags present
- [ ] Open Graph tags for social sharing
